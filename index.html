<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberQuiz Pro - Kibertəhlükəsizlik Testi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0f1419 100%);
            color: #e0e0e0;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #00ff88;
            border-radius: 50%;
            animation: float 15s infinite;
            opacity: 0.3;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(100px, -100px); }
            50% { transform: translate(-50px, -200px); }
            75% { transform: translate(-100px, -100px); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        header {
            background: rgba(15, 20, 35, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 136, 0.2);
            border-radius: 15px;
            padding: 25px 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 255, 136, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: #0a0e27;
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
        }

        h1 {
            font-size: 28px;
            background: linear-gradient(135deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stats-panel {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .stat-item {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 10px;
            padding: 10px 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #00ff88;
        }

        .stat-label {
            font-size: 12px;
            color: #8a8a8a;
            text-transform: uppercase;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .card {
            background: rgba(15, 20, 35, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 136, 0.2);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0, 255, 136, 0.2);
        }

        .welcome-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-title {
            font-size: 42px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #00ff88, #00ccff, #ff00ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: glow 3s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 10px rgba(0, 255, 136, 0.5)); }
            to { filter: drop-shadow(0 0 20px rgba(0, 255, 136, 0.8)); }
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .category-card {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 204, 255, 0.1));
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.2), transparent);
            transition: left 0.5s;
        }

        .category-card:hover::before {
            left: 100%;
        }

        .category-card:hover {
            border-color: #00ff88;
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
        }

        .category-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .category-title {
            font-size: 20px;
            font-weight: bold;
            color: #00ff88;
            margin-bottom: 10px;
        }

        .category-desc {
            font-size: 14px;
            color: #b0b0b0;
        }

        .difficulty-selector {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .difficulty-btn {
            padding: 15px 30px;
            border: 2px solid transparent;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(0, 255, 136, 0.1);
            color: #e0e0e0;
        }

        .difficulty-btn:hover {
            transform: scale(1.1);
        }

        .difficulty-btn.easy {
            border-color: #00ff88;
        }

        .difficulty-btn.easy:hover,
        .difficulty-btn.easy.active {
            background: #00ff88;
            color: #0a0e27;
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.5);
        }

        .difficulty-btn.medium {
            border-color: #ffaa00;
        }

        .difficulty-btn.medium:hover,
        .difficulty-btn.medium.active {
            background: #ffaa00;
            color: #0a0e27;
            box-shadow: 0 5px 20px rgba(255, 170, 0, 0.5);
        }

        .difficulty-btn.hard {
            border-color: #ff0066;
        }

        .difficulty-btn.hard:hover,
        .difficulty-btn.hard.active {
            background: #ff0066;
            color: #fff;
            box-shadow: 0 5px 20px rgba(255, 0, 102, 0.5);
        }

        .question-card {
            margin-bottom: 30px;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .question-number {
            font-size: 18px;
            color: #00ff88;
            font-weight: bold;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            color: #ffaa00;
            font-weight: bold;
        }

        .timer.warning {
            color: #ff0066;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00ccff);
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }

        .question-text {
            font-size: 20px;
            margin-bottom: 25px;
            line-height: 1.6;
            color: #fff;
        }

        .options-grid {
            display: grid;
            gap: 15px;
        }

        .option-btn {
            background: rgba(0, 255, 136, 0.05);
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            color: #e0e0e0;
            position: relative;
            overflow: hidden;
        }

        .option-btn:hover:not(:disabled) {
            background: rgba(0, 255, 136, 0.15);
            border-color: #00ff88;
            transform: translateX(10px);
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .option-btn.correct {
            background: rgba(0, 255, 136, 0.2);
            border-color: #00ff88;
            animation: correctPulse 0.5s;
        }

        .option-btn.incorrect {
            background: rgba(255, 0, 102, 0.2);
            border-color: #ff0066;
            animation: shake 0.5s;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .explanation {
            background: rgba(0, 204, 255, 0.1);
            border-left: 4px solid #00ccff;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #0a0e27;
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.5);
        }

        .btn-secondary {
            background: rgba(0, 255, 136, 0.1);
            border: 2px solid #00ff88;
            color: #00ff88;
        }

        .btn-secondary:hover {
            background: rgba(0, 255, 136, 0.2);
            transform: translateY(-3px);
        }

        .results-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 30px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            font-weight: bold;
            position: relative;
        }

        .score-circle::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(#00ff88 var(--score), rgba(0, 255, 136, 0.1) 0);
            animation: rotateScore 1s ease-out;
        }

        @keyframes rotateScore {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .score-value {
            position: relative;
            z-index: 1;
            color: #00ff88;
        }

        .performance-badge {
            display: inline-block;
            padding: 10px 30px;
            border-radius: 25px;
            font-size: 20px;
            font-weight: bold;
            margin: 20px 0;
        }

        .badge-gold {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #0a0e27;
        }

        .badge-silver {
            background: linear-gradient(135deg, #c0c0c0, #e8e8e8);
            color: #0a0e27;
        }

        .badge-bronze {
            background: linear-gradient(135deg, #cd7f32, #e59b5f);
            color: #fff;
        }

        .leaderboard {
            background: rgba(0, 255, 136, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin: 30px 0;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 8px;
            border-left: 4px solid #00ff88;
        }

        .rank {
            font-size: 24px;
            font-weight: bold;
            color: #00ff88;
            min-width: 40px;
        }

        .share-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .share-btn {
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .share-btn:hover {
            transform: scale(1.1);
        }

        .share-telegram {
            background: #0088cc;
            color: #fff;
        }

        .share-whatsapp {
            background: #25d366;
            color: #fff;
        }

        .share-twitter {
            background: #1da1f2;
            color: #fff;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            header {
                padding: 20px;
            }

            h1 {
                font-size: 22px;
            }

            .welcome-title {
                font-size: 32px;
            }

            .category-grid {
                grid-template-columns: 1fr;
            }

            .stats-panel {
                justify-content: center;
            }

            .score-circle {
                width: 150px;
                height: 150px;
                font-size: 36px;
            }

            .btn {
                padding: 12px 30px;
                font-size: 14px;
            }

            .question-text {
                font-size: 18px;
            }

            .option-btn {
                padding: 15px;
                font-size: 14px;
            }
        }

        .sound-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.3);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .sound-toggle:hover {
            transform: scale(1.1);
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
        }

        .modal-content {
            background: rgba(15, 20, 35, 0.98);
            border: 2px solid #00ff88;
            border-radius: 15px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            text-align: center;
        }

        .modal-title {
            font-size: 24px;
            color: #00ff88;
            margin-bottom: 20px;
        }

        .modal-text {
            font-size: 16px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>

    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo">🛡️</div>
                    <div>
                        <h1>CyberQuiz Pro</h1>
                        <p style="color: #8a8a8a; font-size: 14px;">Kibertəhlükəsizlik Bilik Testi</p>
                    </div>
                </div>
                <div class="stats-panel">
                    <div class="stat-item">
                        <div class="stat-value" id="totalScore">0</div>
                        <div class="stat-label">Xal</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalQuestions">30</div>
                        <div class="stat-label">Sual</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="bestScore">0%</div>
                        <div class="stat-label">Ən yaxşı</div>
                    </div>
                </div>
            </div>
        </header>

        <div class="main-content">
            <div class="card" id="welcomeScreen">
                <div class="welcome-screen">
                    <div class="welcome-title">🔒 CyberQuiz Pro 🔒</div>
                    <p style="font-size: 18px; margin-bottom: 30px; color: #b0b0b0;">
                        Kibertəhlükəsizlik sahəsində biliklərini yoxla və sertifikat qazan!
                    </p>

                    <h3 style="color: #00ff88; margin-bottom: 20px;">📚 Kategoriyalar</h3>
                    <div class="category-grid">
                        <div class="category-card" onclick="selectCategory('network')">
                            <div class="category-icon">🌐</div>
                            <div class="category-title">Network Security</div>
                            <div class="category-desc">Şəbəkə təhlükəsizliyi və protokollar</div>
                        </div>
                        <div class="category-card" onclick="selectCategory('malware')">
                            <div class="category-icon">🦠</div>
                            <div class="category-title">Malware & Viruses</div>
                            <div class="category-desc">Zərərli proqram təminatı</div>
                        </div>
                        <div class="category-card" onclick="selectCategory('crypto')">
                            <div class="category-icon">🔐</div>
                            <div class="category-title">Cryptography</div>
                            <div class="category-desc">Kriptoqrafiya və şifrələmə</div>
                        </div>
                        <div class="category-card" onclick="selectCategory('social')">
                            <div class="category-icon">🎭</div>
                            <div class="category-title">Social Engineering</div>
                            <div class="category-desc">Sosial mühəndislik hücumları</div>
                        </div>
                        <div class="category-card" onclick="selectCategory('web')">
                            <div class="category-icon">🌍</div>
                            <div class="category-title">Web Security</div>
                            <div class="category-desc">Veb təhlükəsizliyi</div>
                        </div>
                        <div class="category-card" onclick="selectCategory('all')">
                            <div class="category-icon">🎯</div>
                            <div class="category-title">Hamısı</div>
                            <div class="category-desc">Bütün kategoriyalar</div>
                        </div>
                    </div>

                    <h3 style="color: #00ff88; margin: 30px 0 20px;">⚡ Çətinlik Səviyyəsi</h3>
                    <div class="difficulty-selector">
                        <button class="difficulty-btn easy active" onclick="selectDifficulty('easy')">
                            🟢 Asan
                        </button>
                        <button class="difficulty-btn medium" onclick="selectDifficulty('medium')">
                            🟡 Orta
                        </button>
                        <button class="difficulty-btn hard" onclick="selectDifficulty('hard')">
                            🔴 Çətin
                        </button>
                    </div>

                    <button class="btn btn-primary" onclick="startQuiz()" style="margin-top: 30px;">
                        🚀 Başla
                    </button>
                </div>
            </div>

            <div class="card hidden" id="quizScreen">
                <div class="question-header">
                    <div class="question-number" id="questionNumber">Sual 1/10</div>
                    <div class="timer" id="timer">⏱️ <span id="timeLeft">30</span>s</div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
                <div class="question-card">
                    <div class="question-text" id="questionText"></div>
                    <div class="options-grid" id="optionsGrid"></div>
                    <div class="explanation" id="explanation"></div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-secondary hidden" id="nextBtn" onclick="nextQuestion()">
                        Növbəti Sual →
                    </button>
                </div>
            </div>

            <div class="card hidden" id="resultsScreen">
                <div class="results-screen">
                    <h2 style="font-size: 36px; margin-bottom: 20px;">🎉 Quiz Tamamlandı!</h2>
                    <div class="score-circle" id="scoreCircle">
                        <div class="score-value" id="scoreValue">0%</div>
                    </div>
                    <div class="performance-badge" id="performanceBadge"></div>
                    <p id="performanceText" style="font-size: 18px; margin: 20px 0;"></p>
                    
                    <div class="stats-panel" style="justify-content: center; margin: 30px 0;">
                        <div class="stat-item">
                            <div class="stat-value" id="correctAnswers">0</div>
                            <div class="stat-label">Doğru</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="wrongAnswers">0</div>
                            <div class="stat-label">Yanlış</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="totalTime">0s</div>
                            <div class="stat-label">Vaxt</div>
                        </div>
                    </div>

                    <h3 style="color: #00ff88; margin: 30px 0 20px;">🏆 Liderboard</h3>
                    <div class="leaderboard" id="leaderboard"></div>

                    <h3 style="color: #00ff88; margin: 30px 0 20px;">📤 Nəticəni Paylaş</h3>
                    <div class="share-buttons">
                        <button class="share-btn share-telegram" onclick="shareToTelegram()">
                            📱 Telegram
                        </button>
                        <button class="share-btn share-whatsapp" onclick="shareToWhatsApp()">
                            💬 WhatsApp
                        </button>
                        <button class="share-btn share-twitter" onclick="shareToTwitter()">
                            🐦 Twitter
                        </button>
                    </div>

                    <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="restartQuiz()">
                            🔄 Yenidən Başla
                        </button>
                        <button class="btn btn-secondary" onclick="viewResults()">
                            📊 Cavabları Göstər
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button class="sound-toggle" onclick="toggleSound()" id="soundBtn">🔊</button>

    <script>
        const quizData = {
            network: [
                {
                    question: "Firewall-ın əsas funksiyası nədir?",
                    options: ["A) Virus silmək", "B) Şəbəkə trafikini idarə etmək", "C) Parolları saxlamaq", "D) Faylları arxivləşdirmək"],
                    correct: "B",
                    explanation: "Firewall şəbəkə trafikini monitorinq edir və icazəsiz girişi bloklamaq üçün istifadə olunur.",
                    difficulty: "easy"
                },
                {
                    question: "VPN nədir və nə üçün istifadə olunur?",
                    options: ["A) Virus Protection Network", "B) Virtual Private Network", "C) Video Player Network", "D) Verified Password Network"],
                    correct: "B",
                    explanation: "VPN (Virtual Private Network) internetdə təhlükəsiz və şifrəli əlaqə yaradır.",
                    difficulty: "easy"
                },
                {
                    question: "DDoS hücumu zamanı nə baş verir?",
                    options: ["A) Parollar oğurlanır", "B) Server həddindən artıq sorğu ilə doldurulur", "C) Fayllar silinir", "D) Ekran bloklanır"],
                    correct: "B",
                    explanation: "DDoS (Distributed Denial of Service) hücumu serveri çoxlu sorğu ilə doldurub işləməsini dayandırır.",
                    difficulty: "medium"
                },
                {
                    question: "Man-in-the-Middle (MITM) hücumu nədir?",
                    options: ["A) İki tərəf arasında əlaqənin ələ keçirilməsi", "B) Parol dəyişdirmək", "C) Virus yükləmək", "D) Email göndərmək"],
                    correct: "A",
                    explanation: "MITM hücumunda haker iki tərəf arasında məlumat mübadiləsini ələ keçirir və monitorinq edir.",
                    difficulty: "hard"
                }
            ],
            malware: [
                {
                    question: "Trojan virus nə üçün belə adlandırılır?",
                    options: ["A) Troya şəhərindən adlanır", "B) Güclü olduğu üçün", "C) Gizli yolla daxil olduğu üçün", "D) Qaranlıq olduğu üçün"],
                    correct: "C",
                    explanation: "Trojan virusları faydalı proqram kimi görünərək sistemi yoluxdurur, Troya atı kimi.",
                    difficulty: "easy"
                },
                {
                    question: "Ransomware-in əsas məqsədi nədir?",
                    options: ["A) Məlumatları şifrələyib pul tələb etmək", "B) Virusları silmək", "C) Parol saxlamaq", "D) Səhifə açmaq"],
                    correct: "A",
                    explanation: "Ransomware məlumatları şifrələyir və onların açılması üçün fidyə (ransom) tələb edir.",
                    difficulty: "medium"
                },
                {
                    question: "Rootkit nədir?",
                    options: ["A) Sistem administratorunun alətləri", "B) Zərərli proqram paketi", "C) Gizli sistem girişi təmin edən proqram", "D) Şəbəkə testi alətı"],
                    correct: "C",
                    explanation: "Rootkit sistemə gizli giriş təmin edir və hakerlərə tam nəzarət verir.",
                    difficulty: "hard"
                },
                {
                    question: "Spyware proqramları nə edir?",
                    options: ["A) Kompüteri sürətləndirir", "B) İstifadəçi məlumatlarını gizli izləyir", "C) Virusları silir", "D) Ekranı qoruyur"],
                    correct: "B",
                    explanation: "Spyware istifadəçinin fəaliyyətini, məlumatlarını gizli şəkildə izləyir və göndərir.",
                    difficulty: "easy"
                }
            ],
            crypto: [
                {
                    question: "AES şifrələmə alqoritmi hansı açar uzunluqlarını dəstəkləyir?",
                    options: ["A) 64, 128, 256 bit", "B) 128, 192, 256 bit", "C) 256, 512, 1024 bit", "D) 32, 64, 128 bit"],
                    correct: "B",
                    explanation: "AES (Advanced Encryption Standard) 128, 192 və 256 bit açar uzunluqlarını dəstəkləyir.",
                    difficulty: "hard"
                },
                {
                    question: "Hash funksiyasının əsas xüsusiyyəti nədir?",
                    options: ["A) Geri çevrilə bilməz", "B) Geri çevrilə bilər", "C) Yalnız şifrələyir", "D) Faylları sıxışdırır"],
                    correct: "A",
                    explanation: "Hash funksiyaları təkistiqamətlidir - məlumatdan hash yarada bilərsiniz, amma hash-dan məlumatı bərpa edə bilməzsiniz.",
                    difficulty: "medium"
                },
                {
                    question: "SSL/TLS protokolu hansı portdan istifadə edir?",
                    options: ["A) 80", "B) 443", "C) 21", "D) 22"],
                    correct: "B",
                    explanation: "HTTPS (SSL/TLS) şifrəli əlaqə üçün 443 portunu istifadə edir. HTTP isə 80 portu istifadə edir.",
                    difficulty: "medium"
                },
                {
                    question: "Güclü parol minimum neçə simvoldan ibarət olmalıdır?",
                    options: ["A) 6", "B) 8", "C) 12", "D) 16"],
                    correct: "C",
                    explanation: "Müasir standartlara görə güclü parol minimum 12 simvoldan ibarət olmalı və müxtəlif simvol növləri ehtiva etməlidir.",
                    difficulty: "easy"
                }
            ],
            social: [
                {
                    question: "Phishing hücumlarının əsas məqsədi nədir?",
                    options: ["A) Kompüteri formatlamaq", "B) Şəxsi məlumatları oğurlamaq", "C) Şəbəkəni yavaşlatmaq", "D) Ekranı bloklamaq"],
                    correct: "B",
                    explanation: "Phishing hücumlarında hakerlər saxta email və ya saytlar vasitəsilə istifadəçilərin şəxsi məlumatlarını əldə etməyə çalışır.",
                    difficulty: "easy"
                },
                {
                    question: "Pretexting nədir?",
                    options: ["A) Yalan səbəb ilə məlumat əldə etmək", "B) Virus yaymaq", "C) Parol dəyişmək", "D) Faylları silmək"],
                    correct: "A",
                    explanation: "Pretexting - haker özünü başqa biri kimi təqdim edərək qurban olan şəxsdən məlumat əldə etməyə çalışır.",
                    difficulty: "medium"
                },
                {
                    question: "Tailgating hücumu nədir?",
                    options: ["A) İcazəli şəxsin arxasınca mühafizəli əraziyə girmək", "B) Email göndərmək", "C) Parol sındırmaq", "D) Virus yaymaq"],
                    correct: "A",
                    explanation: "Tailgating - icazəsiz şəxs, icazəli şəxsin arxasınca fiziki olaraq mühafizəli əraziyə daxil olur.",
                    difficulty: "hard"
                },
                {
                    question: "Baiting hücumu hansı prinsipə əsaslanır?",
                    options: ["A) Qurbanı yem ilə aldatmaq", "B) Şəbəkəni hək etmək", "C) Virusları yaymaq", "D) Parolları dəyişmək"],
                    correct: "A",
                    explanation: "Baiting - haker maraqlı bir yem (USB, pulsuz yükləmə və s.) təklif edərək qurbanı tələyə salır.",
                    difficulty: "medium"
                }
            ],
            web: [
                {
                    question: "SQL Injection hücumu nədir?",
                    options: ["A) Zərərli SQL kodu daxil etmək", "B) JavaScript yazmaq", "C) HTML dəyişmək", "D) CSS əlavə etmək"],
                    correct: "A",
                    explanation: "SQL Injection - hakerlər veb formlara zərərli SQL kodları daxil edərək verilənlər bazasına icazəsiz giriş əldə edir.",
                    difficulty: "medium"
                },
                {
                    question: "XSS (Cross-Site Scripting) hücumu hansı dildə həyata keçirilir?",
                    options: ["A) Python", "B) JavaScript", "C) Java", "D) C++"],
                    correct: "B",
                    explanation: "XSS hücumunda haker veb səhifəyə zərərli JavaScript kodu yerləşdirir.",
                    difficulty: "medium"
                },
                {
                    question: "HTTPS protokolunun 'S' hərfi nəyi bildirir?",
                    options: ["A) Speed", "B) Secure", "C) Server", "D) System"],
                    correct: "B",
                    explanation: "HTTPS-də 'S' Secure (Təhlükəsiz) deməkdir və məlumatların şifrələndiyini göstərir.",
                    difficulty: "easy"
                },
                {
                    question: "CSRF (Cross-Site Request Forgery) hücumundan necə qorunmaq olar?",
                    options: ["A) CSRF token istifadə etməklə", "B) Antivirus quraşdırmaqla", "C) VPN istifadə etməklə", "D) Parol dəyişməklə"],
                    correct: "A",
                    explanation: "CSRF hücumlarından qorunmaq üçün hər sorğu ilə unikal CSRF token göndərilir.",
                    difficulty: "hard"
                },
                {
                    question: "Cookie-lər təhlükəsiz saxlanmaq üçün hansı flag istifadə olunur?",
                    options: ["A) SameSite", "B) Secure və HttpOnly", "C) Domain", "D) Path"],
                    correct: "B",
                    explanation: "Secure flag HTTPS üzərindən, HttpOnly flag isə JavaScript-dən qorunma üçün istifadə olunur.",
                    difficulty: "hard"
                }
            ]
        };

        let currentCategory = 'all';
        let currentDifficulty = 'easy';
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timeLeft = 30;
        let timerInterval;
        let soundEnabled = true;
        let startTime;
        let userAnswers = [];
        let totalTimeSpent = 0;

        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particlesContainer.appendChild(particle);
            }
        }

        function selectCategory(category) {
            currentCategory = category;
            document.querySelectorAll('.category-card').forEach(card => {
                card.style.borderColor = 'transparent';
            });
            event.target.closest('.category-card').style.borderColor = '#00ff88';
        }

        function selectDifficulty(difficulty) {
            currentDifficulty = difficulty;
            document.querySelectorAll('.difficulty-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function getQuestions() {
            let questions = [];
            
            if (currentCategory === 'all') {
                Object.values(quizData).forEach(categoryQuestions => {
                    questions = questions.concat(categoryQuestions);
                });
            } else {
                questions = quizData[currentCategory];
            }

            questions = questions.filter(q => q.difficulty === currentDifficulty);
            
            return questions.sort(() => Math.random() - 0.5).slice(0, 10);
        }

        function startQuiz() {
            currentQuestions = getQuestions();
            
            if (currentQuestions.length === 0) {
                alert('Bu kateqoriya və çətinlik üçün sual yoxdur!');
                return;
            }

            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            startTime = Date.now();
            totalTimeSpent = 0;
            
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('quizScreen').classList.remove('hidden');
            
            showQuestion();
            startTimer();
        }

        function showQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            
            document.getElementById('questionNumber').textContent = 
                `Sual ${currentQuestionIndex + 1}/${currentQuestions.length}`;
            document.getElementById('questionText').textContent = question.question;
            
            const optionsGrid = document.getElementById('optionsGrid');
            optionsGrid.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = option;
                btn.onclick = () => selectAnswer(String.fromCharCode(65 + index));
                optionsGrid.appendChild(btn);
            });
            
            document.getElementById('explanation').classList.remove('show');
            document.getElementById('nextBtn').classList.add('hidden');
            
            const progress = ((currentQuestionIndex) / currentQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            timeLeft = currentDifficulty === 'easy' ? 30 : currentDifficulty === 'medium' ? 20 : 15;
            updateTimer();
        }

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimer();
                
                if (timeLeft <= 5) {
                    document.getElementById('timer').classList.add('warning');
                } else {
                    document.getElementById('timer').classList.remove('warning');
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    selectAnswer(null);
                }
            }, 1000);
        }

        function updateTimer() {
            document.getElementById('timeLeft').textContent = timeLeft;
        }

        function selectAnswer(answer) {
            clearInterval(timerInterval);
            
            const question = currentQuestions[currentQuestionIndex];
            const isCorrect = answer === question.correct;
            
            const timeUsed = (currentDifficulty === 'easy' ? 30 : currentDifficulty === 'medium' ? 20 : 15) - timeLeft;
            totalTimeSpent += timeUsed;
            
            userAnswers.push({
                question: question.question,
                userAnswer: answer,
                correctAnswer: question.correct,
                isCorrect: isCorrect,
                timeUsed: timeUsed
            });
            
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                const optionLetter = String.fromCharCode(65 + index);
                
                if (optionLetter === question.correct) {
                    btn.classList.add('correct');
                } else if (optionLetter === answer && !isCorrect) {
                    btn.classList.add('incorrect');
                }
            });
            
            if (isCorrect) {
                score++;
                playSound('correct');
            } else {
                playSound('wrong');
            }
            
            document.getElementById('explanation').textContent = '💡 ' + question.explanation;
            document.getElementById('explanation').classList.add('show');
            document.getElementById('nextBtn').classList.remove('hidden');
            
            document.getElementById('totalScore').textContent = score;
        }

        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < currentQuestions.length) {
                showQuestion();
                startTimer();
            } else {
                showResults();
            }
        }

        function showResults() {
            clearInterval(timerInterval);
            
            document.getElementById('quizScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            const percentage = Math.round((score / currentQuestions.length) * 100);
            document.getElementById('scoreValue').textContent = percentage + '%';
            
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.style.setProperty('--score', percentage + '%');
            
            let badge, badgeClass, performanceText;
            if (percentage >= 90) {
                badge = '🥇 ƏLAAA!';
                badgeClass = 'badge-gold';
                performanceText = 'Siz kibertəhlükəsizlik üzrə mükəmməl biliyə sahibsiniz!';
            } else if (percentage >= 70) {
                badge = '🥈 ÇOX YAXŞI!';
                badgeClass = 'badge-silver';
                performanceText = 'Yaxşı nəticə! Bir az daha təcrübə lazımdır.';
            } else if (percentage >= 50) {
                badge = '🥉 YAXŞI!';
                badgeClass = 'badge-bronze';
                performanceText = 'Əsas məlumatları bilirsiniz, davam edin!';
            } else {
                badge = '📚 DAVAM ET!';
                badgeClass = 'badge-bronze';
                performanceText = 'Kibertəhlükəsizlik üzrə daha çox öyrənməlisiniz.';
            }
            
            document.getElementById('performanceBadge').textContent = badge;
            document.getElementById('performanceBadge').className = 'performance-badge ' + badgeClass;
            document.getElementById('performanceText').textContent = performanceText;
            
            document.getElementById('correctAnswers').textContent = score;
            document.getElementById('wrongAnswers').textContent = currentQuestions.length - score;
            document.getElementById('totalTime').textContent = totalTimeSpent + 's';
            
            saveToLeaderboard(percentage);
            displayLeaderboard();
            
            const bestScore = localStorage.getItem('bestScore') || 0;
            if (percentage > bestScore) {
                localStorage.setItem('bestScore', percentage);
                document.getElementById('bestScore').textContent = percentage + '%';
            }
            
            playSound('finish');
        }

        function saveToLeaderboard(percentage) {
            const leaderboard = JSON.parse(localStorage.getItem('leaderboard') || '[]');
            
            const entry = {
                score: percentage,
                correct: score,
                total: currentQuestions.length,
                category: currentCategory,
                difficulty: currentDifficulty,
                date: new Date().toLocaleDateString('az-AZ'),
                time: totalTimeSpent
            };
            
            leaderboard.push(entry);
            leaderboard.sort((a, b) => b.score - a.score);
            leaderboard.splice(10);
            
            localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
        }

        function displayLeaderboard() {
            const leaderboard = JSON.parse(localStorage.getItem('leaderboard') || '[]');
            const leaderboardDiv = document.getElementById('leaderboard');
            
            if (leaderboard.length === 0) {
                leaderboardDiv.innerHTML = '<p style="text-align: center; color: #8a8a8a;">Hələ nəticə yoxdur</p>';
                return;
            }
            
            leaderboardDiv.innerHTML = leaderboard.slice(0, 5).map((entry, index) => `
                <div class="leaderboard-item">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div class="rank">#${index + 1}</div>
                        <div>
                            <div style="font-weight: bold; color: #00ff88;">${entry.score}%</div>
                            <div style="font-size: 12px; color: #8a8a8a;">
                                ${entry.correct}/${entry.total} · ${entry.date}
                            </div>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 12px; color: #ffaa00;">${entry.difficulty}</div>
                        <div style="font-size: 12px; color: #8a8a8a;">${entry.time}s</div>
                    </div>
                </div>
            `).join('');
        }

        function restartQuiz() {
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
        }

        function viewResults() {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.onclick = (e) => {
                if (e.target === modal) modal.remove();
            };
            
            const content = document.createElement('div');
            content.className = 'modal-content';
            content.style.maxHeight = '80vh';
            content.style.overflowY = 'auto';
            
            let html = '<h2 class="modal-title">📋 Cavabların Nəticələri</h2>';
            
            userAnswers.forEach((answer, index) => {
                const icon = answer.isCorrect ? '✅' : '❌';
                const color = answer.isCorrect ? '#00ff88' : '#ff0066';
                
                html += `
                    <div style="margin: 20px 0; padding: 15px; background: rgba(0,255,136,0.05); border-radius: 8px; border-left: 4px solid ${color};">
                        <div style="margin-bottom: 10px;">
                            <strong>${icon} Sual ${index + 1}:</strong> ${answer.question}
                        </div>
                        <div style="font-size: 14px; color: #b0b0b0;">
                            Sizin cavab: <span style="color: ${color};">${answer.userAnswer || 'Vaxt bitdi'}</span><br>
                            Doğru cavab: <span style="color: #00ff88;">${answer.correctAnswer}</span><br>
                            Vaxt: ${answer.timeUsed}s
                        </div>
                    </div>
                `;
            });
            
            html += '<div class="modal-buttons"><button class="btn btn-primary" onclick="this.closest(\'.modal\').remove()">Bağla</button></div>';
            
            content.innerHTML = html;
            modal.appendChild(content);
            document.body.appendChild(modal);
        }

        function shareToTelegram() {
            const text = `🔒 CyberQuiz Pro\n\n🎯 Nəticəm: ${score}/${currentQuestions.length}\n📊 Faiz: ${Math.round((score/currentQuestions.length)*100)}%\n⚡ Səviyyə: ${currentDifficulty}\n\nSənə də tövsiyə edirəm!`;
            window.open(`https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(text)}`);
        }

        function shareToWhatsApp() {
            const text = `🔒 CyberQuiz Pro - Kibertəhlükəsizlik Testi\n\n🎯 Nəticəm: ${score}/${currentQuestions.length}\n📊 Faiz: ${Math.round((score/currentQuestions.length)*100)}%\n⚡ Səviyyə: ${currentDifficulty}\n\nSənə də tövsiyə edirəm!\n${window.location.href}`;
            window.open(`https://wa.me/?text=${encodeURIComponent(text)}`);
        }

        function shareToTwitter() {
            const text = `🔒 CyberQuiz Pro testində ${Math.round((score/currentQuestions.length)*100)}% nəticə əldə etdim! 🎯\n\n#CyberSecurity #Quiz #CyberQuiz`;
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(window.location.href)}`);
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            document.getElementById('soundBtn').textContent = soundEnabled ? '🔊' : '🔇';
        }

        function playSound(type) {
            if (!soundEnabled) return;
            
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            if (type === 'correct') {
                oscillator.frequency.value = 800;
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.3);
            } else if (type === 'wrong') {
                oscillator.frequency.value = 200;
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.2);
            } else if (type === 'finish') {
                [523, 659, 784].forEach((freq, i) => {
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    osc.connect(gain);
                    gain.connect(audioContext.destination);
                    osc.frequency.value = freq;
                    gain.gain.setValueAtTime(0.2, audioContext.currentTime + i * 0.1);
                    gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + i * 0.1 + 0.2);
                    osc.start(audioContext.currentTime + i * 0.1);
                    osc.stop(audioContext.currentTime + i * 0.1 + 0.2);
                });
            }
        }

        window.onload = () => {
            createParticles();
            
            const bestScore = localStorage.getItem('bestScore') || 0;
            document.getElementById('bestScore').textContent = bestScore + '%';
        };
    </script>
</body>
</html>
